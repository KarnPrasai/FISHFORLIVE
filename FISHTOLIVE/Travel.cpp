#include <iostream>
#include <string>
#include "Travel.h"
#include "Main.h"
#include "Fishing.h"

using namespace std;


void Travel::PlaceTravel(string& location, int& playergoing, int& boatlvl)
{
    int Old_location = playergoing;
    cout << "======================================================\n";
    cout << "\033[0m" << "|" << "\033[0;33m" << ".." << "\033[1;94m" << "____/" << "\033[1;94m" << "~~" << "\033[1;94m" << "/___/" << "\033[1;94m" << "~" << "\033[1;94m" << "/" << "\033[0;33m" << "...................................." << "\033[0m" << "|\n" << "\033[0m";

    cout << "\033[0m" << "|" << "\033[0;33m" << "." << "\033[1;94m" << "/" << "\033[1;94m" << "~~" << "\033[1;94m" << "__________/" << "\033[0;33m" << "..................." << "\033[1;94m" << "_____" << "\033[0;33m" << "............." << "\033[0m" << "|\n" << "\033[0m";

    cout << "\033[0m" << "|" << "\033[1;94m" << "/" << "\033[1;94m" << "~~" << "\033[1;94m" << "/" << "\033[0;33m" << "........................" << "\033[1;94m" << "_____/" << "\033[1;94m" << "~~~~~~" << "\033[1;94m" << "\\" << "\033[0;33m" << "..........." << "\033[0m" << "|\n" << "\033[0m";

    cout << "\033[0m" << "|" << "\033[1;94m" << "~~" << "\033[1;94m" << "/" << "\033[0;33m" << ".." << "\033[1;93m" << "[1]" << "\033[0;33m" << "...................." << "\033[1;94m" << "\\" << "\033[1;94m" << "~~~~" << "\033[1;93m" << "[2]" << "\033[1;94m" << "~~~~" << "\033[1;94m" << "|" << "\033[0;33m" << "..........." << "\033[0m" << "|\n" << "\033[0m";

    cout << "\033[0m" << "|" << "\033[1;94m" << "_/" << "\033[0;33m" << ".........................." << "\033[1;94m" << "|" << "\033[1;94m" << "~~~~~~" << "\033[1;94m" << "_____/" << "\033[0;33m" << "..........." << "\033[0m" << "|\n" << "\033[0m";

    cout << "\033[0m" << "|" << "\033[1;93m" << "............................" << "\033[1;94m" << "\\____/" << "\033[1;93m" << ".................." << "\033[0m" << "|\n" << "\033[0m";

    cout << "\033[0m" << "|" << "\033[1;93m" << "...................................................." << "\033[0m" << "|\n" << "\033[0m";
    cout << "\033[0m" << "|" << "\033[1;97m" << ".o0o.._.o00o.o" << "\033[1;93m" << "[3]" << "\033[1;97m" << "o...o_o..__..o00o._o0o.._...o_o..__" << "\033[0m" << "|\n" << "\033[0m";
    cout << "\033[0m" << "|" << "\033[1;96m" << "o_..o00o._.o0o..o00o0o._.o0o._.o0o.._o0o.00o0o._..o0" << "\033[0m" << "|\n" << "\033[0m";
    cout << "\033[0m" << "|" << "\033[1;94m" << "_____-------______---" << "\033[1;93m" << "[4]" << "\033[1;94m" << "__-----___----__--____----__" << "\033[0m" << "|\n" << "\033[0m";
    cout << "\033[0m" << "|" << "\033[1;94m" << "_____-------______-----___-----___-" << "\033[0;32m" << "_____" << "\033[1;94m" << "--____----__" << "\033[0m" << "|\n" << "\033[0m";
    cout << "\033[0m" << "|" << "\033[0;34m" << "---___--_____-____---___------____" << "\033[0;32m" << "/.....\\" << "\033[0;34m" << "---______--" << "\033[0m" << "|\n" << "\033[0m";
    cout << "\033[0m" << "|" << "\033[0;34m" << "_____-------______-----___-----__" << "\033[0;32m" << "|.." << "\033[1;93m" << "[6]" << "\033[0;32m" << "..|" << "\033[0;90m" << "-____---__" << "\033[0m" << "|\n" << "\033[0m";
    cout << "\033[0m" << "|" << "\033[0;90m" << "_____-" << "\033[1;93m" << "[5]" << "\033[0;90m" << "---______-----___-----___" << "\033[0;32m" << "\\_____/" << "\033[0;90m" << "-____----__" << "\033[0m" << "|\n" << "\033[0m";
    cout << "\033[0m" << "|" << "\033[0;90m" << "---___--_____-____---___------___-----__---_______--" << "\033[0m" << "|\n" << "\033[0m";
    cout << "======================================================\n";
    cout << "Which place do you want to go?\n";
    cout << "--------------------------------\n";
    cout << "\n";
    for (int i = 0; i < 6; i++)
    {
        cout << "\"" << i + 1 << "\" : " << FishingArea[i] << ".";
        cout << "\033[1;30m" << " (Require Boat level " << i + 1 << ")\n" << "\033[0m";
    }
    cout << "\n";
    cout << "\033[1;30m" << "Input Number of the place : " << "\033[0m";
    int placeinput;
    if (!(cin >> placeinput))
    {
        cin.clear();
        cin.ignore(numeric_limits<streamsize>::max(), '\n');
        cout << "\033[1;31m" << "Invalid input! Please enter a number between 1 and 6.\n" << "\033[0m";
        return;
    }
    PlaceChecker(placeinput, Old_location, location, playergoing, boatlvl);
}

void Travel::PlaceChecker(int placeinput, int Old_lo, string& playerlocation, int& playergoing, int& boatlvl)
{
    cout << "\n";
    if (playerlocation != FishingArea[placeinput - 1])
    {
        if (placeinput <= boatlvl)
        {
            cout << "Going to " << "\033[1;93m" << FishingArea[placeinput - 1] << endl << "\033[0m";
            cout << "\n";
            cout << "           " << "\033[1;93m" << "|>" << "\033[1;97m" << "           \n";
            cout << "         " << "\033[1;93m" << "__|__" << "\033[1;97m" << "          \n";
            cout << "\033[1;97m" << "_o0._..o0" << "\033[1;93m" << "\\___/" << "\033[1;97m" << "o00o._.o0\n";
            cout << "\033[1;96m" << "o_..o00o._.o0o..o0o.._.o\n";
            playerlocation = FishingArea[placeinput - 1];
            playergoing = placeinput;
            IsTraveled = true;
        }
        else if (placeinput > boatlvl)
        {
            cout << "\033[1;31m" << "You cannot go there!!. Upgrade your boat first\n" << "\033[0m";
        }
        else
        {
            cout << "\033[1;31m" << "You cannot go there!!. It's not the way to go\n" << "\033[0m";
        }
    }
    else
    {
        cout << "\033[1;31m" << "You have been here. Why you need to go?\n" << "\033[0m";
    }
}